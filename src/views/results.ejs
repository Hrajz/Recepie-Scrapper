<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Recipe Search and Results</title>
    <link rel="stylesheet" href="/style.css">
</head>

<body class="index">
    <div class="main">
        <h1>Search for Recipes</h1>
        <form action="/results" method="get">
            <label for="ingredients">Ingredients (comma-separated):</label>
            <input type="text" id="ingredients" name="ingredients" required>
            <button class="btn" type="submit">Search</button>
        </form>
    </div>

    <!-- Display Results Below Search Form -->
    <h2>Recipe Results</h2>
    <div class="recepie">
        <% if (recipes && recipes.length > 0) { %>
            <% recipes.forEach(recipe => { %>
                <div class="container">
                    <a class="align" href="/recipe/<%= encodeURIComponent(recipe.title) %>?url=<%= encodeURIComponent(recipe.link) %>">
                        <img class="image_show image" src="<%= recipe.image %>" alt="<%= recipe.title %>">
                        <h3><%= recipe.title %></h3>
                    </a>
                    <!-- <img class="image_show" src="<%= recipe.image %>" alt="<%= recipe.title %>" style="width:200px;height:auto;"> -->
                    <!-- <p><%= recipe.description %></p> -->
                    <p><strong>Last updated:</strong> <%= recipe.updated %></p>
                </div>
            <% }); %>
        <% } else if (typeof recipes !== "undefined") { %> <!-- If no recipes found -->
            <li>No recipes found for the given ingredients.</li>
        <% } %>
        </div>

</body>

</html>
